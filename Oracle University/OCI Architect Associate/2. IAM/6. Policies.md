
# TL;DR

- **OCI Policies** define **who** (subject) can perform **what action** on **which resource** and **where** (scope).
    
- Policies are the backbone of **authorization** in OCI and follow the format:
    
    `Allow <subject> to <verb> <resource-type> in <location>`
    
- You can go **granular** (specific permissions) or **broad** (all-resources).
    
- Everything is **denied by default**—you must explicitly allow.
    
- **Identity resources** have **no aggregate resource type**; write policies per individual identity resource.
    
- Policies are essential for implementing **least privilege** access control.

---

# **Policy Structure**

|Part|Description|
|---|---|
|**Subject**|Who gets access? (e.g., a group or dynamic group)|
|**Verb (Action)**|What can they do? (e.g., inspect, read, use, manage)|
|**Resource Type**|What are they acting on? (e.g., buckets, instances)|
|**Location (Placement)**|Where is this allowed? (e.g., tenancy or specific compartment)|
![[Pasted image 20250915161848.png]]
## Subject Clause

You define **who** the policy applies to:

- Format:
    
    `group <domain-name>/<group-name>`
    
- Example:
    
    ```group prod-domain/NetworkAdmins```
    
- Also supports:
    
    - `dynamic-group <domain-name>/<dynamic-group-name>`
        
    - `any-user`
        
    - OCID instead of name
        
    - Multiple subjects chained:
        
        ```group default/DevAdmins, default/OpsAdmins```
        

> **Tip**: Always **prefix the domain name**, even for default domains, for clarity and consistency.

## Action Clause (Verbs + Resource Types)

### Verbs (Permission Levels):

|Verb|Description|
|---|---|
|`inspect`|View metadata only (no content)|
|`read`|View content|
|`use`|Use or modify existing resources|
|`manage`|Full control (create, delete, update)|

> Example: `manage instances`, `read buckets`

### Resource Types:

- **Aggregate Types** (e.g., `virtual-network-family`, `database-family`)
    
- **Individual Types** (e.g., `vcn`, `subnet`, `db-nodes`)
    
- **All Resources**:
    
    ```all-resources```
    

> **Note**: Some services (like **Identity**) have **no aggregate types**, so you must use specific resources like `users`, `groups`, `compartments`, etc.

## Placement / Location Clause

Defines **where** access is granted:

- Entire tenancy:
    
    ```in tenancy```
    
- Specific compartment:
    
    ```in compartment Sandbox```
    
- Using OCID:
    
    ```in compartment id ocid1.compartment.oc1..xxxxx```
    

> You can **scope down** permissions using compartments for better control.

# **Example Policy Statements**

1. Allow full access to manage VCNs in Sandbox compartment:

	```Allow group default/NetworkAdmins to manage virtual-network-family in compartment Sandbox```

 2. Allow reading object metadata in Object Storage:

	```Allow group default/DataTeam to inspect objects in compartment AnalyticsData```

3. Allow a dynamic group of instances to access Vault secrets:

	```Allow dynamic-group default/ComputeGroup to use secret-family in compartment AppSecrets```

# Key Points to Remember

- **No deny policies** — access is always denied unless explicitly allowed.
    
- **Least privilege**: Give only the access needed, nothing more.
    
- **Identity policies must use individual resource types** (no family/aggregate).
    
- **Aggregate types** are convenient but may grant broader access than needed.
